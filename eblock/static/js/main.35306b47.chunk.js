(this.webpackJsonpeblock=this.webpackJsonpeblock||[]).push([[0],{441:function(e,t,n){},453:function(e,t){},454:function(e,t){},462:function(e,t){},465:function(e,t){},466:function(e,t){},467:function(e,t,n){},598:function(e,t,n){"use strict";n.r(t);var a=n(23),i=n(9),r=n.n(i),s=n(225),o=n.n(s),c=(n(441),n(81)),l=n(126),u=n(6),d=n(600),b=n(273),j=n(274),p=n(279),h=n(604),_=n(272),m=n(606),v=n(408),f=n(143),O=(n(444),n(199)),x=n.n(O),k=n(377),y=n.n(k),g=(n(445),n(378)),N=n.n(g),S=function(e){var t=e.setEbFact,n=Object(i.useState)(null),r=Object(u.a)(n,2),s=r[0],o=r[1],c=HTMLDivElement,l={tableOverflow:!0,data:[["2021-01-29",2160,0],["2021-01-30",2159,0],["2021-01-31",2159,0],["2021-02-01",2158,6.474],["2021-02-02",2157,47.454],["2021-02-03",2156,125.048],["2021-02-04",2156,235.004],["2021-02-05",2155,355.575],["2021-02-06",2154,471.726],["2021-02-07",2154,579.426],["2021-02-08",2153,669.583],["2021-02-09",2152,740.288],["2021-02-10",2151,795.87],["2021-02-11",2151,838.89],["2021-02-12",2150,868.6],["2021-02-13",2149,887.537],["2021-02-14",2149,898.282],["2021-02-15",2148,902.16],["2021-02-16",2147,899.593],["2021-02-17",2147,897.446],["2021-02-18",2146,888.444],["2021-02-19",2145,877.3050000000001],["2021-02-20",2144,866.176],["2021-02-21",2144,853.312],["2021-02-22",2143,837.913],["2021-02-23",2142,824.67],["2021-02-24",2142,809.676],["2021-02-25",2141,796.452],["2021-02-26",2140,781.1],["2021-02-27",2140,766.12],["2021-02-28",2139,752.928],["2021-03-01",2138,739.748],["2021-03-02",2137,724.443],["2021-03-03",2137,713.758],["2021-03-04",2136,700.608],["2021-03-05",2135,687.47],["2021-03-06",2135,676.7950000000001],["2021-03-07",2134,665.808],["2021-03-08",2133,654.831],["2021-03-09",2132,645.996],["2021-03-10",2132,635.336],["2021-03-11",2131,626.514],["2021-03-12",2130,617.7],["2021-03-13",2130,609.1800000000001],["2021-03-14",2129,600.3779999999999],["2021-03-15",2128,591.5840000000001],["2021-03-16",2128,585.2],["2021-03-17",2127,578.544],["2021-03-18",2126,571.894],["2021-03-19",2125,565.25],["2021-03-20",2125,558.875],["2021-03-21",2124,552.24],["2021-03-22",2123,545.611],["2021-03-23",2123,541.365],["2021-03-24",2122,536.866],["2021-03-25",2121,532.3710000000001],["2021-03-26",2121,526.008],["2021-03-27",2120,523.64],["2021-03-28",2119,517.036],["2021-03-29",2119,514.9169999999999],["2021-03-30",2118,510.438],["2021-03-31",2117,505.963],["2021-04-01",2116,503.60799999999995],["2021-04-02",2116,499.376],["2021-04-03",2115,497.025],["2021-04-04",2114,492.562],["2021-04-05",2114,490.448],["2021-04-06",2113,488.103],["2021-04-07",2112,483.648],["2021-04-08",2112,481.536],["2021-04-09",2111,479.197],["2021-04-10",2110,476.85999999999996],["2021-04-11",2109,474.525],["2021-04-12",2109,472.416],["2021-04-13",2108,470.084],["2021-04-14",2107,467.754],["2021-04-15",2107,465.647],["2021-04-16",2106,465.426],["2021-04-17",2105,463.1],["2021-04-18",2105,460.995],["2021-04-19",2104,460.77599999999995],["2021-04-20",2103,458.454],["2021-04-21",2103,456.351],["2021-04-22",2102,454.032],["2021-04-23",2101,453.816],["2021-04-24",2100,453.6],["2021-04-25",2100,451.5],["2021-04-26",2099,449.18600000000004],["2021-04-27",2098,448.972],["2021-04-28",2098,448.972],["2021-04-29",2097,446.661],["2021-04-30",2096,446.448],["2021-05-01",2096,444.352],["2021-05-02",2095,444.14],["2021-05-03",2094,443.928],["2021-05-04",2094,441.834],["2021-05-05",2093,441.62300000000005],["2021-05-06",2092,441.412],["2021-05-07",2092,441.412],["2021-05-08",2091,439.10999999999996],["2021-05-09",2090,438.9],["2021-05-10",2089,438.69],["2021-05-11",2089,438.69],["2021-05-12",2088,438.48],["2021-05-13",2087,436.18300000000005],["2021-05-14",2087,436.18300000000005],["2021-05-15",2086,435.974],["2021-05-16",2085,435.765],["2021-05-17",2085,435.765],["2021-05-18",2084,435.556],["2021-05-19",2083,433.264],["2021-05-20",2083,433.264],["2021-05-21",2082,433.05600000000004],["2021-05-22",2081,432.848],["2021-05-23",2081,432.848],["2021-05-24",2080,432.64],["2021-05-25",2079,432.43199999999996],["2021-05-26",2078,432.224],["2021-05-27",2078,430.146],["2021-05-28",2077,432.016],["2021-05-29",2076,429.732],["2021-05-30",2076,429.732],["2021-05-31",2075,429.52500000000003],["2021-06-01",2074,431.392],["2021-06-02",2074,429.318],["2021-06-03",2073,429.111],["2021-06-04",2072,428.904],["2021-06-05",2072,428.904],["2021-06-06",2071,428.697],["2021-06-07",2070,428.49],["2021-06-08",2070,428.49],["2021-06-09",2069,428.283],["2021-06-10",2068,428.07599999999996],["2021-06-11",2068,428.07599999999996],["2021-06-12",2067,427.86899999999997],["2021-06-13",2066,427.662],["2021-06-14",2066,427.662],["2021-06-15",2065,427.455],["2021-06-16",2064,427.248],["2021-06-17",2064,427.248],["2021-06-18",2063,427.041],["2021-06-19",2062,426.834],["2021-06-20",2061,426.627],["2021-06-21",2061,426.627],["2021-06-22",2060,426.42],["2021-06-23",2059,426.213],["2021-06-24",2059,426.213],["2021-06-25",2058,426.00600000000003],["2021-06-26",2057,425.79900000000004],["2021-06-27",2057,423.742],["2021-06-28",2056,425.592],["2021-06-29",2055,425.385],["2021-06-30",2055,425.385],["2021-07-01",2054,423.124],["2021-07-02",2053,424.971],["2021-07-03",2053,422.918],["2021-07-04",2052,422.712],["2021-07-05",2051,422.50600000000003],["2021-07-06",2051,422.50600000000003],["2021-07-07",2050,422.29999999999995],["2021-07-08",2049,422.094],["2021-07-09",2049,422.094],["2021-07-10",2048,421.888],["2021-07-11",2047,421.682],["2021-07-12",2047,421.682],["2021-07-13",2046,421.476],["2021-07-14",2045,421.27000000000004],["2021-07-15",2045,421.27000000000004],["2021-07-16",2044,421.06399999999996],["2021-07-17",2043,420.858],["2021-07-18",2043,420.858],["2021-07-19",2042,418.61],["2021-07-20",2041,420.446],["2021-07-21",2041,418.40500000000003],["2021-07-22",2040,418.2],["2021-07-23",2039,417.995],["2021-07-24",2039,417.995],["2021-07-25",2038,417.78999999999996],["2021-07-26",2037,417.585],["2021-07-27",2037,417.585],["2021-07-28",2036,417.38],["2021-07-29",2035,417.175],["2021-07-30",2035,415.14],["2021-07-31",2034,414.93600000000004],["2021-08-01",2033,414.732],["2021-08-02",2033,414.732],["2021-08-03",2032,414.52799999999996],["2021-08-04",2031,414.324],["2021-08-05",2031,414.324],["2021-08-06",2030,414.12],["2021-08-07",2029,413.916],["2021-08-08",2029,411.887],["2021-08-09",2028,411.684],["2021-08-10",2027,411.48100000000005],["2021-08-11",2027,411.48100000000005],["2021-08-12",2026,411.27799999999996],["2021-08-13",2025,411.075],["2021-08-14",2025,409.05],["2021-08-15",2024,408.848],["2021-08-16",2023,408.646],["2021-08-17",2023,408.646],["2021-08-18",2022,408.444],["2021-08-19",2021,408.242],["2021-08-20",2021,406.221],["2021-08-21",2020,406.02],["2021-08-22",2019,405.819],["2021-08-23",2019,405.819],["2021-08-24",2018,403.6],["2021-08-25",2017,405.41700000000003],["2021-08-26",2017,403.40000000000003],["2021-08-27",2016,403.20000000000005],["2021-08-28",2015,403],["2021-08-29",2015,400.985],["2021-08-30",2014,400.786],["2021-08-31",2013,400.587],["2021-09-01",2013,400.587],["2021-09-02",2012,398.376],["2021-09-03",2011,400.189],["2021-09-04",2011,398.178],["2021-09-05",2010,397.98],["2021-09-06",2009,397.78200000000004],["2021-09-07",2009,395.773],["2021-09-08",2008,395.57599999999996],["2021-09-09",2007,395.37899999999996],["2021-09-10",2007,393.372],["2021-09-11",2006,393.176],["2021-09-12",2005,392.98],["2021-09-13",2005,392.98],["2021-09-14",2004,390.78000000000003],["2021-09-15",2003,390.58500000000004],["2021-09-16",2003,390.58500000000004],["2021-09-17",2002,390.39],["2021-09-18",2001,388.194],["2021-09-19",2001,388.194],["2021-09-20",2e3,386],["2021-09-21",1999,385.807],["2021-09-22",1999,385.807],["2021-09-23",1998,383.61600000000004],["2021-09-24",1997,383.424],["2021-09-25",1997,383.424],["2021-09-26",1996,383.23199999999997],["2021-09-27",1995,381.045],["2021-09-28",1995,381.045],["2021-09-29",1994,378.86],["2021-09-30",1993,378.67],["2021-10-01",1993,378.67],["2021-10-02",1992,376.488],["2021-10-03",1992,376.488],["2021-10-04",1991,376.299],["2021-10-05",1990,374.12],["2021-10-06",1990,374.12],["2021-10-07",1989,373.932],["2021-10-08",1988,371.75600000000003],["2021-10-09",1988,371.75600000000003],["2021-10-10",1987,369.582],["2021-10-11",1986,369.396],["2021-10-12",1986,369.396],["2021-10-13",1985,367.22499999999997],["2021-10-14",1984,367.03999999999996],["2021-10-15",1984,365.056],["2021-10-16",1983,364.872],["2021-10-17",1982,364.688],["2021-10-18",1982,362.706],["2021-10-19",1981,362.523],["2021-10-20",1980,360.36],["2021-10-21",1980,360.36],["2021-10-22",1979,360.178],["2021-10-23",1978,358.018],["2021-10-24",1978,356.03999999999996],["2021-10-25",1977,355.86],["2021-10-26",1977,355.86],["2021-10-27",1976,353.704],["2021-10-28",1975,353.52500000000003],["2021-10-29",1975,353.52500000000003],["2021-10-30",1974,351.372],["2021-10-31",1973,349.22099999999995],["2021-11-01",1973,349.22099999999995],["2021-11-02",1972,347.072],["2021-11-03",1971,346.896],["2021-11-04",1971,346.896],["2021-11-05",1970,344.75],["2021-11-06",1969,344.575],["2021-11-07",1969,342.606],["2021-11-08",1968,342.432],["2021-11-09",1967,340.291],["2021-11-10",1967,340.291],["2021-11-11",1966,338.152],["2021-11-12",1965,337.98],["2021-11-13",1965,336.015],["2021-11-14",1964,335.844],["2021-11-15",1964,333.88],["2021-11-16",1963,333.71000000000004],["2021-11-17",1962,331.57800000000003],["2021-11-18",1962,331.57800000000003],["2021-11-19",1961,329.448],["2021-11-20",1960,329.28],["2021-11-21",1960,327.32],["2021-11-22",1959,327.153],["2021-11-23",1958,325.028],["2021-11-24",1958,325.028],["2021-11-25",1957,322.90500000000003],["2021-11-26",1956,322.74],["2021-11-27",1956,320.78400000000005],["2021-11-28",1955,320.61999999999995],["2021-11-29",1955,318.66499999999996],["2021-11-30",1954,318.502],["2021-12-01",1953,316.38599999999997],["2021-12-02",1953,316.38599999999997],["2021-12-03",1952,314.272],["2021-12-04",1951,314.111],["2021-12-05",1951,312.16],["2021-12-06",1950,312],["2021-12-07",1949,309.89099999999996],["2021-12-08",1949,307.94199999999995],["2021-12-09",1948,307.784],["2021-12-10",1947,305.679],["2021-12-11",1947,305.679],["2021-12-12",1946,303.576],["2021-12-13",1946,303.576],["2021-12-14",1945,301.475],["2021-12-15",1944,301.32000000000005],["2021-12-16",1944,299.37600000000003],["2021-12-17",1943,299.222],["2021-12-18",1942,297.126],["2021-12-19",1942,297.126],["2021-12-20",1941,295.032],["2021-12-21",1940,292.94],["2021-12-22",1940,292.94],["2021-12-23",1939,290.85],["2021-12-24",1939,290.85],["2021-12-25",1938,288.762],["2021-12-26",1937,288.613],["2021-12-27",1937,286.676],["2021-12-28",1936,286.52799999999996],["2021-12-29",1935,284.445],["2021-12-30",1935,284.445],["2021-12-31",1934,282.36400000000003],["2022-01-01",1933,280.285],["2022-01-02",1933,280.285],["2022-01-03",1932,278.208],["2022-01-04",1932,278.208],["2022-01-05",1931,276.133],["2022-01-06",1930,275.99],["2022-01-07",1930,274.06],["2022-01-08",1929,273.918],["2022-01-09",1928,271.848],["2022-01-10",1928,269.92],["2022-01-11",1927,269.78000000000003],["2022-01-12",1926,267.714],["2022-01-13",1926,267.714],["2022-01-14",1925,265.65],["2022-01-15",1925,265.65],["2022-01-16",1924,263.58799999999997],["2022-01-17",1923,263.451],["2022-01-18",1923,261.528],["2022-01-19",1922,261.392],["2022-01-20",1921,259.33500000000004],["2022-01-21",1921,257.414],["2022-01-22",1920,257.28000000000003],["2022-01-23",1920,255.35999999999999],["2022-01-24",1919,255.227],["2022-01-25",1918,253.176],["2022-01-26",1918,253.176],["2022-01-27",1917,251.127],["2022-01-28",1916,250.996],["2022-01-29",1916,249.08],["2022-01-30",1915,247.035],["2022-01-31",1914,246.906],["2022-02-01",1914,244.992],["2022-02-02",1913,244.864],["2022-02-03",1913,242.951],["2022-02-04",1912,242.82399999999998],["2022-02-05",1911,240.786],["2022-02-06",1911,238.875],["2022-02-07",1910,238.75],["2022-02-08",1909,236.71599999999998],["2022-02-09",1909,236.71599999999998],["2022-02-10",1908,234.684],["2022-02-11",1908,234.684],["2022-02-12",1907,232.654]],columns:[{type:"text",width:"80",name:"date",title:"\u0414\u0430\u0442\u0430"},{type:"number",width:"150",name:"vol_pr",title:"\u0421\u0443\u0442.\u043e\u0431\u044a\u0435\u043c \u041f\u0420 (\u043c3)"},{type:"number",width:"150",name:"me_final",title:"\u0421\u0443\u0442.\u0434\u043e\u0431\u044b\u0447\u0430 (\u043a\u0433)"}]};Object(i.useEffect)((function(){o(N()(c,l))}),[]);return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{ref:function(e){return c=e}}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"button",onClick:function(){x.a.extend(y.a),t(s.getData().map((function(e){return{date:x()(e[0],x()(e[0],"DD.MM.YYYY").isValid()?"DD.MM.YYYY":"YYYY-MM-DD").format("YYYY-MM-DD"),vol_pr:isNaN(e[1])?parseFloat(e[1].replace(",",".").replace(" ","")):Number(e[1]),me_final:isNaN(e[2])?parseFloat(e[2].replace(",",".").replace(" ","")):Number(e[2])}})))},value:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0444\u0430\u043a\u0442"}),Object(a.jsx)("input",{type:"button",onClick:function(){s.setData([[],[],[],[],[],[],[],[],[],[],[],[]])},value:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443"})]}),Object(a.jsx)("p",{children:"\u0427\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435, \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u0443, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0440\u0432\u0443\u044e \u044f\u0447\u0435\u0439\u043a\u0443 \u0438 \u0432\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e CTRL-V."})]})},w=n(82),A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"day",i=[],r=x()(t),s=1e3*e.me/e.grm,o=1e3*e.me,c=0,l=e.skv_otk,u=e.skv_otk_deb,d=0,b=0,j=0,p=0,h=0;do{var _={id:c+1,date:r.add(c,a).format("YYYY-MM-DD"),days:1,hours:24,vol_pr:0,vol_pr_nakop:0,jt:0,kg_t_grm_nakop:0,sod_me_pr:0,me_pr:0,me_pr_nakop:0,me_vr:0,me_final:0,me_final_nakop:0,k_izvl:0,vol_pr_f:null,sod_me_pr_f:null,me_pr_f:null,me_pr_nakop_f:null,me_vr_f:null,me_final_f:null,me_final_nakop_f:null,k_izvl_f:null,me_final_for_chart:null};if(_.skv_otk=l,_.skv_otk_deb=u,c<=n.length-1?(_.date=n[c].date,_.vol_pr=n[c].vol_pr,_.vol_pr_f=n[c].vol_pr,_.me_final_f=n[c].me_final,_.me_final_nakop_f=p+_.me_final_f,_.k_izvl_f=w.round(_.me_final_nakop_f/o,4)):_.vol_pr=w.round(_.hours*_.skv_otk*_.skv_otk_deb),_.vol_pr>0){if(_.vol_pr_nakop=d+_.vol_pr,_.jt=w.round(_.vol_pr_nakop/e.grm,5),_.kg_t_grm_nakop=s/(1+e.a*Math.exp(-e.v*(_.jt-e.d/_.jt))),_.me_final=w.round((_.kg_t_grm_nakop-b)*e.grm,3),_.me_final_nakop=j+_.me_final,_.k_izvl=w.round(_.me_final_nakop/o,4),_.k_izvl>e.k_izvl){var m=_.k_izvl-e.k_izvl;_.k_izvl=e.k_izvl,_.me_final=o*_.k_izvl-j,_.me_final_nakop=j+_.me_final,_.vol_pr=w.round(_.vol_pr-_.vol_pr*m),_.vol_pr_nakop=d+_.vol_pr,_.jt=w.round(_.vol_pr_nakop/e.grm,3)}}else _.vol_pr_nakop=d,_.kg_t_grm_nakop=b,_.me_final_nakop=j,_.k_izvl=w.round(_.me_final_nakop/o,4);_.me_final_for_chart=w.max([_.me_final,_.me_final_f]),l-=l*(1-e.koeff_year_um_skv)/365,u-=u*(1-e.koeff_year_um_deb)/365,d=_.vol_pr_nakop,b=_.kg_t_grm_nakop,j=_.me_final_nakop,p=_.me_final_nakop_f,h=_.k_izvl,i.push(_),c++}while(h<e.k_izvl&&c<1200);return i},C=n(3),z=n.n(C),Y=n(13),M=n(5),D=n(11),E=n(14),K=n(15),I=n(71),V=n(21),B=function(e){Object(E.a)(n,e);var t=Object(K.a)(n);function n(e,a,i,r,s){var o,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.1,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:.001;return Object(M.a)(this,n),(o=t.call(this)).f=function(e){return I.d((function(){var t=o.v.mul(e.sub(o.d.div(e))).mul(-1).exp();return o.C.div(o.constOne.add(o.a.mul(t))).div(o.C)}))},o.meStart=e,o.grmStart=a,o.aStart=i,o.vStart=r,o.dStart=s,o.maxEpochPerTrainSession=c,o.learningRate=l,o.expectedLoss=u,o.optimizerFunction=I.e.adam,o.initModelVariables(),o}return Object(D.a)(n,[{key:"initModelVariables",value:function(){this.a=I.b(this.aStart).variable(),this.v=I.b(this.vStart).variable(),this.d=I.b(this.dStart).variable(),this.grm=I.b(this.grmStart),this.me=I.b(this.meStart),this.C=I.b(1e3*this.meStart*1e3/this.grmStart),this.constOne=I.b(1)}},{key:"predict",value:function(e,t){var n=I.c(e);return this.f(n).arraySync().map((function(n,a){return{date:a,vol:e[a],k_izvl_et:t[a],k_izvl_calc:n}}))}},{key:"predictAvd",value:function(){return{a:this.a.dataSync()[0],v:this.v.dataSync()[0],d:this.d.dataSync()[0],grm:this.grm.dataSync()[0],me:this.me.dataSync()[0]}}}]),n}(function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.e.sgd,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;Object(M.a)(this,e),this.loss=function(e,n){var a=e.sub(n).square().mean();return t.lossVal=a.dataSync()[0],a},this.optimizerFunction=n,this.expectedLoss=r,this.learningRate=i,this.maxEpochPerTrainSession=a,this.trainSession=0,this.epochNumber=0,this.history=[]}return Object(D.a)(e,[{key:"initModelVariables",value:function(){throw Error("Model variables should be defined")}},{key:"f",value:function(){throw Error("Model should be defined")}},{key:"train",value:function(){var e=Object(Y.a)(z.a.mark((function e(t,n,a){var i,r,s,o,c=this;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=++this.trainSession,this.lossVal=Number.POSITIVE_INFINITY,this.epochNumber=0,this.history=[],r=I.c(t),s=I.c(n),o=this.optimizerFunction(this.learningRate);case 7:if(!(i===this.trainSession&&this.lossVal>this.expectedLoss&&this.epochNumber<=this.maxEpochPerTrainSession)){e.next=16;break}return o.minimize((function(){return c.loss(c.f(r),s)})),this.history=[].concat(Object(V.a)(this.history),[{epoch:this.epochNumber,loss:this.lossVal}]),a&&a(),this.epochNumber++,e.next=14,I.a();case 14:e.next=7;break;case 16:r.dispose();case 17:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.trainSession++}},{key:"predict",value:function(e){var t=I.c(e);return this.f(t).arraySync().map((function(t,n){return{x:e[n],y:t}}))}}]),e}()),F=null;function T(){return(T=Object(Y.a)(z.a.mark((function e(t,n,a,i){var r,s,o,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=L(r=t,n),o=s.map((function(e){return e.jt})),c=s.map((function(e){return e.ki})),500,F=new B(r.me,r.grm,r.a,r.v,r.d,500,.01,5e-7),25,F.train(o,c,(function(){F.epochNumber%25===0&&i({prc:parseInt(F.epochNumber/F.maxEpochPerTrainSession*100),message:" \u043e\u0442\u043a\u043b: ".concat(F.history[F.history.length-1].loss.toFixed(6))})})).then((function(){i({prc:0,message:""});var e=F.predictAvd();a({a:w.round(e.a,4),v:w.round(e.v,4),d:w.round(e.d,4)})}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){for(var n=[],a=0,i=0,r=0,s=0,o=0;o<t.length;o++)a+=t[o].vol_pr,i+=t[o].me_final,r=a/e.grm,s=i/(1e3*e.me),r>=.01&&n.push({jt:r,ki:s});return n}n(467);var P=function(e){var t=e.data,n=Object(i.useRef)(),r=Object(i.useState)({width:0,height:0}),s=Object(u.a)(r,2),o=s[0],c=s[1];return Object(i.useLayoutEffect)((function(){n.current&&c({width:n.current.offsetWidth,height:n.current.offsetHeight})}),[]),Object(a.jsxs)("div",{className:"content-charts",ref:n,children:[Object(a.jsxs)(d.a,{width:o.width-40,height:300,data:t,margin:{top:5,right:10,left:10,bottom:0},children:[Object(a.jsx)(b.a,{dataKey:"date"}),Object(a.jsx)(j.a,{dataKey:"me_final_for_chart",label:{value:"\u0421\u0443\u0442\u043e\u0447\u043d\u0430\u044f \u0434\u043e\u0431\u044b\u0447\u0430 (\u043a\u0433)",angle:-90,position:"insideLeft"},yAxisId:0}),Object(a.jsx)(j.a,{dataKey:"k_izvl",label:{value:"\u041a.\u0438\u0437\u0432\u043b",angle:-90,position:"insideRight"},yAxisId:1,orientation:"right"}),Object(a.jsx)(p.a,{isAnimationActive:!1}),Object(a.jsx)(h.a,{strokeDasharray:"3 3"}),Object(a.jsx)(_.a,{type:"linear",dataKey:"me_final",title:"\u0421\u0443\u0442.\u0434\u043e\u0431.\u043f\u043b\u0430\u043d",stroke:"blue",yAxisId:0,isAnimationActive:!1,dot:!1}),Object(a.jsx)(_.a,{type:"linear",dataKey:"k_izvl",title:"\u041a.\u0438\u0437\u0432\u043b \u043f\u043b\u0430\u043d",stroke:"purple",yAxisId:1,isAnimationActive:!1,dot:!1}),Object(a.jsx)(_.a,{type:"linear",dataKey:"k_izvl_f",title:"\u041a.\u0438\u0437\u0432\u043b \u0444\u0430\u043a\u0442",stroke:"#387908",yAxisId:1,isAnimationActive:!1,dot:!1}),Object(a.jsx)(_.a,{type:"linear",dataKey:"me_final_f",title:"\u0421\u0443\u0442.\u0434\u043e\u0431.\u0444\u0430\u043a\u0442",stroke:"red",yAxisId:0,isAnimationActive:!1,dot:!1})]}),Object(a.jsxs)(m.a,{width:o.width-40,height:100,data:t,margin:{top:0,right:10,left:10,bottom:5},children:[Object(a.jsxs)("defs",{children:[Object(a.jsxs)("linearGradient",{id:"colorP",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(a.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),Object(a.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),Object(a.jsxs)("linearGradient",{id:"colorF",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(a.jsx)("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),Object(a.jsx)("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]})]}),Object(a.jsx)(b.a,{dataKey:"date",hide:"true"}),Object(a.jsx)(j.a,{dataKey:"vol_pr",label:{value:"\u041f\u0420 (\u043c3)",angle:-90,position:"insideLeft"},yAxisId:0}),Object(a.jsx)(j.a,{dataKey:"vol_pr",label:{value:"\u041f\u0420 (\u043c3)",angle:-90,position:"insideRight"},yAxisId:1,orientation:"right"}),Object(a.jsx)(p.a,{isAnimationActive:!1}),Object(a.jsx)(h.a,{strokeDasharray:"3 3"}),Object(a.jsx)(v.a,{type:"linear",dataKey:"vol_pr",yAxisId:0,stroke:"#8884d8",fillOpacity:1,fill:"url(#colorP)",isAnimationActive:!1,dot:!1}),Object(a.jsx)(v.a,{type:"linear",dataKey:"vol_pr_f",yAxisId:0,stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorF)",isAnimationActive:!1,dot:!1})]})]})},R=function(e){e.nameEb;var t=e.paramEb,n=Object(i.useState)(!0),r=Object(u.a)(n,2),s=r[0],o=r[1],d=Object(i.useState)(t),b=Object(u.a)(d,2),j=b[0],p=b[1],h=Object(i.useState)([]),_=Object(u.a)(h,2),m=_[0],v=_[1],O=Object(i.useState)([]),x=Object(u.a)(O,2),k=x[0],y=x[1],g=Object(i.useState)({prc:0,message:""}),N=Object(u.a)(g,2),w=N[0],C=N[1],z=function(){k.length>0?function(e,t,n,a){T.apply(this,arguments)}(j,k,Y,C):alert("\u0414\u043b\u044f \u043f\u043e\u0434\u0431\u043e\u0440\u0430 AVd \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0444\u0430\u043a\u0442\u0430 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 <\u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0444\u0430\u043a\u0442 \u043d\u0430 \u0433\u0440\u0430\u0444\u0438\u043a>!")},Y=function(e){isNaN(e.a)||isNaN(e.v)||isNaN(e.d)?alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0434\u043e\u0431\u0440\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0435 AVd!"):(p(Object(l.a)(Object(l.a)({},j),{},{a:e.a,v:e.v,d:e.d})),o(!s))},M=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;p(Object(l.a)(Object(l.a)({},j),{},Object(c.a)({},a,Number(n))))},D=function(e,t){var n=j[e]+t;n=Number(n.toFixed(5).replace(/0*$/,"").replace(/\.$/,".0")),p(Object(l.a)(Object(l.a)({},j),{},Object(c.a)({},e,n))),o(!s)};return Object(i.useEffect)((function(){var e=A(j,j.date_start,k);v(e)}),[s,k]),Object(a.jsxs)("div",{className:"content-flex",children:[Object(a.jsxs)("div",{className:"content-header",children:[Object(a.jsx)("h3",{children:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0443\u0442\u043e\u0447\u043d\u043e\u0439 \u0434\u043e\u0431\u044b\u0447\u0438."}),Object(a.jsx)(P,{data:m})]}),Object(a.jsxs)("div",{className:"content-body",children:[Object(a.jsxs)("div",{className:"btnUpDownGroup",children:[Object(a.jsx)("label",{children:"A:"}),Object(a.jsx)("input",{name:"a",type:"number",value:j.a,onChange:M,onBlur:function(){return o(!s)}}),Object(a.jsx)("button",{type:"button",onClick:function(){return D("a",-.1)},children:"-"}),Object(a.jsx)("button",{type:"button",onClick:function(){return D("a",.1)},children:"+"})]}),Object(a.jsxs)("div",{className:"btnUpDownGroup",children:[Object(a.jsx)("label",{children:"V:"}),Object(a.jsx)("input",{name:"v",type:"number",value:j.v,onChange:M,onBlur:function(){return o(!s)}}),Object(a.jsx)("button",{type:"button",onClick:function(){return D("v",-.1)},children:"-"}),Object(a.jsx)("button",{type:"button",onClick:function(){return D("v",.1)},children:"+"})]}),Object(a.jsxs)("div",{className:"btnUpDownGroup",children:[Object(a.jsx)("label",{children:"d:"}),Object(a.jsx)("input",{name:"d",type:"number",value:j.d,onChange:M,onBlur:function(){return o(!s)}}),Object(a.jsx)("button",{type:"button",onClick:function(){return D("d",-.01)},children:"-"}),Object(a.jsx)("button",{type:"button",onClick:function(){return D("d",.01)},children:"+"})]}),Object(a.jsx)("span",{hidden:0!==w.prc,children:Object(a.jsx)("button",{type:"button",onClick:function(){return z()},children:"\u041f\u043e\u0434\u043e\u0431\u0440\u0430\u0442\u044c AVd"})}),Object(a.jsx)("span",{hidden:0===w.prc,children:Object(a.jsx)("button",{type:"button",onClick:function(){F&&F.stop()},children:"\u041f\u0440\u0435\u0440\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u0431\u043e\u0440 AVd"})}),Object(a.jsx)("span",{hidden:0===w.prc,children:Object(a.jsx)("div",{className:"progressbar",children:Object(a.jsxs)("div",{style:{width:w.prc.toString()+"%"},children:[w.prc,"% ",w.message]})})})]}),Object(a.jsx)("div",{className:"content-h100",children:Object(a.jsxs)("div",{className:"content-layout",children:[Object(a.jsxs)("div",{className:"content-sidebar",children:[Object(a.jsx)("label",{children:"\u0417\u0430\u043f\u0430\u0441\u044b \u0442"}),Object(a.jsx)("input",{name:"me",type:"number",step:"1",value:j.me,onChange:M,onBlur:function(){return o(!s)}}),Object(a.jsx)("label",{children:"\u0413\u0420\u041c \u0442"}),Object(a.jsx)("input",{name:"grm",type:"number",step:"1",value:j.grm,onChange:M,onBlur:function(){return o(!s)}}),Object(a.jsx)("label",{children:"\u041e\u0442\u043a.\u0441\u043a\u0432.\u0448\u0442"}),Object(a.jsx)("input",{name:"skv_otk",type:"number",step:"1",value:j.skv_otk,onChange:M,onBlur:function(){return o(!s)}}),Object(a.jsx)("label",{children:"\u0414\u0435\u0431\u0438\u0442 \u043e\u0442\u043a.\u0441\u043a\u0432 \u043c3/\u0447"}),Object(a.jsx)("input",{name:"skv_otk_deb",type:"number",step:"0.1",value:j.skv_otk_deb,onChange:M,onBlur:function(){return o(!s)}}),Object(a.jsx)("label",{children:"\u041f\u043b\u0430\u043d\u043e\u0432\u044b\u0439 \u041a\u043e\u0435\u0444\u0444.\u0438\u0437\u0432\u043b."}),Object(a.jsx)("input",{name:"k_izvl",type:"number",step:"0.1",value:j.k_izvl,onChange:M,onBlur:function(){return o(!s)}}),Object(a.jsx)("label",{children:"\u0415\u0436\u0435\u0433\u043e\u0434\u043d.\u043a\u043e\u0435\u0444\u0444.\u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u044f \u0434\u0435\u0431\u0438\u0442\u0430."}),Object(a.jsx)("input",{name:"koeff_year_um_deb",type:"number",step:"0.1",value:j.koeff_year_um_deb,onChange:M,onBlur:function(){return o(!s)}}),Object(a.jsx)("label",{children:"\u0415\u0436\u0435\u0433\u043e\u0434\u043d.\u043a\u043e\u0435\u0444\u0444.\u0443\u043c\u0435\u043d\u044c\u0448.\u043a\u043e\u043b-\u0432\u0430 \u0441\u043a\u0432."}),Object(a.jsx)("input",{name:"koeff_year_um_skv",type:"number",step:"0.1",value:j.koeff_year_um_skv,onChange:M,onBlur:function(){return o(!s)}}),Object(a.jsx)("label",{children:"\u0421\u0440\u0435\u0434\u043d.\u0441\u043e\u0434\u0435\u0440\u0436.Me \u0432 \u0412\u0420 (\u043c\u0433/\u043b)"}),Object(a.jsx)("input",{name:"sod_me_vr",type:"number",step:"0.1",value:j.sod_me_vr,onChange:M,onBlur:function(){return o(!s)}}),Object(a.jsx)("label",{children:"\u0414\u0430\u0442\u0430 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0431\u043b\u043e\u043a\u0430"}),Object(a.jsx)("input",{name:"date_start",type:"date",value:j.date_start,onChange:function(e){var t=e.target,n=t.name,a=t.value;p(Object(l.a)(Object(l.a)({},j),{},Object(c.a)({},n,a)))},onBlur:function(){return o(!s)}})]}),Object(a.jsx)("div",{className:"content-body",children:Object(a.jsxs)("div",{className:"content-row",children:[Object(a.jsxs)("div",{className:"content-el",children:["\u041f\u043b\u0430\u043d:",Object(a.jsxs)(f.b,{data:m,width:500,height:400,headerHeight:30,rowHeight:25,children:[Object(a.jsx)(f.a,{dataKey:"id",title:"\u2116 \u043f\u043f",width:60},"id"),Object(a.jsx)(f.a,{dataKey:"date",title:"\u0414\u0430\u0442\u0430",width:100},"date"),Object(a.jsx)(f.a,{dataKey:"jt",title:"\u0416/\u0422",width:100},"jt"),Object(a.jsx)(f.a,{dataKey:"vol_pr",title:"\u041e\u0431\u044a\u0435\u043c \u041f\u0420 (\u043c3)",width:80},"vol_pr"),Object(a.jsx)(f.a,{dataKey:"me_final",title:"\u0421\u0443\u0442\u043e\u0447\u043d\u0430\u044f \u0434\u043e\u0431\u044b\u0447\u0430 (\u043a\u0433)",width:100},"me_final"),Object(a.jsx)(f.a,{dataKey:"k_izvl",title:"\u041a.\u0438\u0437\u0432\u043b.",width:80},"k_izvl")]})]}),Object(a.jsxs)("div",{className:"content-el",children:["\u0424\u0430\u043a\u0442:",Object(a.jsx)(S,{setEbFact:y})]})]})})]})})]})},G={name:"Test",params:[{date_start:"2021-01-29",me:200,me_calc:200,grm:3e5,grm_calc:3e5,skv_otk:10,skv_otk_deb:9,k_izvl:.85,koeff_year_um_deb:.9,koeff_year_um_skv:.98,sod_me_vr:2,a:2,v:1,d:.2}]};var H=function(){return Object(a.jsx)(R,{nameEb:G.name,paramEb:G.params[0]})};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(H,{})}),document.getElementById("root"))}},[[598,1,2]]]);
//# sourceMappingURL=main.35306b47.chunk.js.map